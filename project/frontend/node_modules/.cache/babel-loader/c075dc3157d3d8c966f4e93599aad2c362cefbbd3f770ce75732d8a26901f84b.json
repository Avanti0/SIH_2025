{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import AlertNotification from'../components/AlertNotification';import mockApi from'../services/mockApi';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const[farmStats,setFarmStats]=useState({complianceScore:0,totalAnimals:0,healthyAnimals:0,lastInspection:''});const[alerts,setAlerts]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{fetchDashboardData();fetchAlerts();},[]);const fetchDashboardData=async()=>{try{const data=await mockApi.getDashboard();setFarmStats(data);}catch(error){console.error('Error fetching dashboard data:',error);}finally{setLoading(false);}};const fetchAlerts=async()=>{try{const data=await mockApi.getAlerts();setAlerts(data.alerts||[]);}catch(error){console.error('Error fetching alerts:',error);}};const user=JSON.parse(localStorage.getItem('user')||'{}');if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading dashboard...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"dashboard-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Pashu Kavach Dashboard\"}),/*#__PURE__*/_jsx(\"div\",{className:\"user-info\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Welcome, \",user.name||'Farmer']})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"alerts-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Recent Alerts\"}),alerts.length>0?alerts.map(alert=>/*#__PURE__*/_jsx(AlertNotification,{alert:alert},alert.id)):/*#__PURE__*/_jsx(\"p\",{children:\"No active alerts\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Compliance Score\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"score\",children:[farmStats.complianceScore,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"score-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"score-fill\",style:{width:\"\".concat(farmStats.complianceScore,\"%\")}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Total Animals\"}),/*#__PURE__*/_jsx(\"div\",{className:\"number\",children:farmStats.totalAnimals})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Healthy Animals\"}),/*#__PURE__*/_jsx(\"div\",{className:\"number\",children:farmStats.healthyAnimals})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Last Inspection\"}),/*#__PURE__*/_jsx(\"div\",{className:\"date\",children:farmStats.lastInspection})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quick-actions\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Quick Actions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/_jsx(Link,{to:\"/checklist\",className:\"btn-action\",children:\"\\uD83D\\uDCCB Biosecurity Checklist\"}),/*#__PURE__*/_jsx(Link,{to:\"/database\",className:\"btn-action\",children:\"\\uD83D\\uDDC4\\uFE0F Database Schema\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-action\",children:\"\\uD83D\\uDCCA Health Records\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-action\",children:\"\\uD83C\\uDF7D\\uFE0F Feed Management\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-action\",children:\"\\uD83D\\uDCC8 Production Reports\"})]})]})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","Link","AlertNotification","mockApi","jsx","_jsx","jsxs","_jsxs","Dashboard","farmStats","setFarmStats","complianceScore","totalAnimals","healthyAnimals","lastInspection","alerts","setAlerts","loading","setLoading","fetchDashboardData","fetchAlerts","data","getDashboard","error","console","getAlerts","user","JSON","parse","localStorage","getItem","className","children","name","length","map","alert","id","style","width","concat","to"],"sources":["/home/admin-cse/Desktop/SIH_avanti/SIH_2025/project/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport AlertNotification from '../components/AlertNotification';\nimport mockApi from '../services/mockApi';\n\nconst Dashboard = () => {\n  const [farmStats, setFarmStats] = useState({\n    complianceScore: 0,\n    totalAnimals: 0,\n    healthyAnimals: 0,\n    lastInspection: ''\n  });\n  const [alerts, setAlerts] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchDashboardData();\n    fetchAlerts();\n  }, []);\n\n  const fetchDashboardData = async () => {\n    try {\n      const data = await mockApi.getDashboard();\n      setFarmStats(data);\n    } catch (error) {\n      console.error('Error fetching dashboard data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchAlerts = async () => {\n    try {\n      const data = await mockApi.getAlerts();\n      setAlerts(data.alerts || []);\n    } catch (error) {\n      console.error('Error fetching alerts:', error);\n    }\n  };\n\n  const user = JSON.parse(localStorage.getItem('user') || '{}');\n\n  if (loading) {\n    return <div className=\"loading\">Loading dashboard...</div>;\n  }\n\n  return (\n    <div className=\"dashboard\">\n      <header className=\"dashboard-header\">\n        <h1>Pashu Kavach Dashboard</h1>\n        <div className=\"user-info\">\n          <span>Welcome, {user.name || 'Farmer'}</span>\n        </div>\n      </header>\n\n      <div className=\"dashboard-content\">\n        <div className=\"alerts-section\">\n          <h3>Recent Alerts</h3>\n          {alerts.length > 0 ? (\n            alerts.map(alert => (\n              <AlertNotification key={alert.id} alert={alert} />\n            ))\n          ) : (\n            <p>No active alerts</p>\n          )}\n        </div>\n\n        <div className=\"stats-grid\">\n          <div className=\"stat-card\">\n            <h4>Compliance Score</h4>\n            <div className=\"score\">{farmStats.complianceScore}%</div>\n            <div className=\"score-bar\">\n              <div \n                className=\"score-fill\" \n                style={{width: `${farmStats.complianceScore}%`}}\n              ></div>\n            </div>\n          </div>\n\n          <div className=\"stat-card\">\n            <h4>Total Animals</h4>\n            <div className=\"number\">{farmStats.totalAnimals}</div>\n          </div>\n\n          <div className=\"stat-card\">\n            <h4>Healthy Animals</h4>\n            <div className=\"number\">{farmStats.healthyAnimals}</div>\n          </div>\n\n          <div className=\"stat-card\">\n            <h4>Last Inspection</h4>\n            <div className=\"date\">{farmStats.lastInspection}</div>\n          </div>\n        </div>\n\n        <div className=\"quick-actions\">\n          <h3>Quick Actions</h3>\n          <div className=\"action-buttons\">\n            <Link to=\"/checklist\" className=\"btn-action\">\n              üìã Biosecurity Checklist\n            </Link>\n            <Link to=\"/database\" className=\"btn-action\">\n              üóÑÔ∏è Database Schema\n            </Link>\n            <button className=\"btn-action\">\n              üìä Health Records\n            </button>\n            <button className=\"btn-action\">\n              üçΩÔ∏è Feed Management\n            </button>\n            <button className=\"btn-action\">\n              üìà Production Reports\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}