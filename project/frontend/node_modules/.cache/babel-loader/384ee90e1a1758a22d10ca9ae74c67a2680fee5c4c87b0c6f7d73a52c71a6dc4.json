{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import AlertNotification from'../components/AlertNotification';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const[farmStats,setFarmStats]=useState({complianceScore:0,totalAnimals:0,healthyAnimals:0,lastInspection:''});const[alerts,setAlerts]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{fetchDashboardData();fetchAlerts();},[]);const fetchDashboardData=async()=>{try{const response=await fetch('https://sih-2025-jfvxz3e4j-avanti0s-projects.vercel.app/api/farm/dashboard');const data=await response.json();setFarmStats(data);}catch(error){console.error('Error fetching dashboard data:',error);}finally{setLoading(false);}};const fetchAlerts=async()=>{try{const response=await fetch('https://sih-2025-jfvxz3e4j-avanti0s-projects.vercel.app/api/alerts');const data=await response.json();setAlerts(data.alerts||[]);}catch(error){console.error('Error fetching alerts:',error);}};const user=JSON.parse(localStorage.getItem('user')||'{}');if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading dashboard...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"dashboard-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Farm Dashboard\"}),/*#__PURE__*/_jsx(\"div\",{className:\"user-info\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Welcome, \",user.name||'Farmer']})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"alerts-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Recent Alerts\"}),alerts.length>0?alerts.map(alert=>/*#__PURE__*/_jsx(AlertNotification,{alert:alert},alert.id)):/*#__PURE__*/_jsx(\"p\",{children:\"No active alerts\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Compliance Score\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"score\",children:[farmStats.complianceScore,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"score-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"score-fill\",style:{width:\"\".concat(farmStats.complianceScore,\"%\")}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Total Animals\"}),/*#__PURE__*/_jsx(\"div\",{className:\"number\",children:farmStats.totalAnimals})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Healthy Animals\"}),/*#__PURE__*/_jsx(\"div\",{className:\"number\",children:farmStats.healthyAnimals})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Last Inspection\"}),/*#__PURE__*/_jsx(\"div\",{className:\"date\",children:farmStats.lastInspection})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quick-actions\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Quick Actions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/_jsx(Link,{to:\"/checklist\",className:\"btn-action\",children:\"\\uD83D\\uDCCB Biosecurity Checklist\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-action\",children:\"\\uD83D\\uDCCA Health Records\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-action\",children:\"\\uD83C\\uDF7D\\uFE0F Feed Management\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-action\",children:\"\\uD83D\\uDCC8 Production Reports\"})]})]})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","Link","AlertNotification","jsx","_jsx","jsxs","_jsxs","Dashboard","farmStats","setFarmStats","complianceScore","totalAnimals","healthyAnimals","lastInspection","alerts","setAlerts","loading","setLoading","fetchDashboardData","fetchAlerts","response","fetch","data","json","error","console","user","JSON","parse","localStorage","getItem","className","children","name","length","map","alert","id","style","width","concat","to"],"sources":["/home/admin-cse/Desktop/SIH_avanti/SIH_2025/project/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport AlertNotification from '../components/AlertNotification';\n\nconst Dashboard = () => {\n  const [farmStats, setFarmStats] = useState({\n    complianceScore: 0,\n    totalAnimals: 0,\n    healthyAnimals: 0,\n    lastInspection: ''\n  });\n  const [alerts, setAlerts] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchDashboardData();\n    fetchAlerts();\n  }, []);\n\n  const fetchDashboardData = async () => {\n    try {\n      const response = await fetch('https://sih-2025-jfvxz3e4j-avanti0s-projects.vercel.app/api/farm/dashboard');\n      const data = await response.json();\n      setFarmStats(data);\n    } catch (error) {\n      console.error('Error fetching dashboard data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchAlerts = async () => {\n    try {\n      const response = await fetch('https://sih-2025-jfvxz3e4j-avanti0s-projects.vercel.app/api/alerts');\n      const data = await response.json();\n      setAlerts(data.alerts || []);\n    } catch (error) {\n      console.error('Error fetching alerts:', error);\n    }\n  };\n\n  const user = JSON.parse(localStorage.getItem('user') || '{}');\n\n  if (loading) {\n    return <div className=\"loading\">Loading dashboard...</div>;\n  }\n\n  return (\n    <div className=\"dashboard\">\n      <header className=\"dashboard-header\">\n        <h1>Farm Dashboard</h1>\n        <div className=\"user-info\">\n          <span>Welcome, {user.name || 'Farmer'}</span>\n        </div>\n      </header>\n\n      <div className=\"dashboard-content\">\n        <div className=\"alerts-section\">\n          <h3>Recent Alerts</h3>\n          {alerts.length > 0 ? (\n            alerts.map(alert => (\n              <AlertNotification key={alert.id} alert={alert} />\n            ))\n          ) : (\n            <p>No active alerts</p>\n          )}\n        </div>\n\n        <div className=\"stats-grid\">\n          <div className=\"stat-card\">\n            <h4>Compliance Score</h4>\n            <div className=\"score\">{farmStats.complianceScore}%</div>\n            <div className=\"score-bar\">\n              <div \n                className=\"score-fill\" \n                style={{width: `${farmStats.complianceScore}%`}}\n              ></div>\n            </div>\n          </div>\n\n          <div className=\"stat-card\">\n            <h4>Total Animals</h4>\n            <div className=\"number\">{farmStats.totalAnimals}</div>\n          </div>\n\n          <div className=\"stat-card\">\n            <h4>Healthy Animals</h4>\n            <div className=\"number\">{farmStats.healthyAnimals}</div>\n          </div>\n\n          <div className=\"stat-card\">\n            <h4>Last Inspection</h4>\n            <div className=\"date\">{farmStats.lastInspection}</div>\n          </div>\n        </div>\n\n        <div className=\"quick-actions\">\n          <h3>Quick Actions</h3>\n          <div className=\"action-buttons\">\n            <Link to=\"/checklist\" className=\"btn-action\">\n              üìã Biosecurity Checklist\n            </Link>\n            <button className=\"btn-action\">\n              üìä Health Records\n            </button>\n            <button className=\"btn-action\">\n              üçΩÔ∏è Feed Management\n            </button>\n            <button className=\"btn-action\">\n              üìà Production Reports\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,iBAAiB,KAAM,iCAAiC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhE,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGV,QAAQ,CAAC,CACzCW,eAAe,CAAE,CAAC,CAClBC,YAAY,CAAE,CAAC,CACfC,cAAc,CAAE,CAAC,CACjBC,cAAc,CAAE,EAClB,CAAC,CAAC,CACF,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACiB,OAAO,CAAEC,UAAU,CAAC,CAAGlB,QAAQ,CAAC,IAAI,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACdkB,kBAAkB,CAAC,CAAC,CACpBC,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAD,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CACrC,GAAI,CACF,KAAM,CAAAE,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,4EAA4E,CAAC,CAC1G,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAClCd,YAAY,CAACa,IAAI,CAAC,CACpB,CAAE,MAAOE,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,CAAEA,KAAK,CAAC,CACxD,CAAC,OAAS,CACRP,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAE,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,oEAAoE,CAAC,CAClG,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAClCR,SAAS,CAACO,IAAI,CAACR,MAAM,EAAI,EAAE,CAAC,CAC9B,CAAE,MAAOU,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAChD,CACF,CAAC,CAED,KAAM,CAAAE,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAI,IAAI,CAAC,CAE7D,GAAId,OAAO,CAAE,CACX,mBAAOZ,IAAA,QAAK2B,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,sBAAoB,CAAK,CAAC,CAC5D,CAEA,mBACE1B,KAAA,QAAKyB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB1B,KAAA,WAAQyB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAClC5B,IAAA,OAAA4B,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvB5B,IAAA,QAAK2B,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxB1B,KAAA,SAAA0B,QAAA,EAAM,WAAS,CAACN,IAAI,CAACO,IAAI,EAAI,QAAQ,EAAO,CAAC,CAC1C,CAAC,EACA,CAAC,cAET3B,KAAA,QAAKyB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC1B,KAAA,QAAKyB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B5B,IAAA,OAAA4B,QAAA,CAAI,eAAa,CAAI,CAAC,CACrBlB,MAAM,CAACoB,MAAM,CAAG,CAAC,CAChBpB,MAAM,CAACqB,GAAG,CAACC,KAAK,eACdhC,IAAA,CAACF,iBAAiB,EAAgBkC,KAAK,CAAEA,KAAM,EAAvBA,KAAK,CAACC,EAAmB,CAClD,CAAC,cAEFjC,IAAA,MAAA4B,QAAA,CAAG,kBAAgB,CAAG,CACvB,EACE,CAAC,cAEN1B,KAAA,QAAKyB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB1B,KAAA,QAAKyB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB5B,IAAA,OAAA4B,QAAA,CAAI,kBAAgB,CAAI,CAAC,cACzB1B,KAAA,QAAKyB,SAAS,CAAC,OAAO,CAAAC,QAAA,EAAExB,SAAS,CAACE,eAAe,CAAC,GAAC,EAAK,CAAC,cACzDN,IAAA,QAAK2B,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxB5B,IAAA,QACE2B,SAAS,CAAC,YAAY,CACtBO,KAAK,CAAE,CAACC,KAAK,IAAAC,MAAA,CAAKhC,SAAS,CAACE,eAAe,KAAG,CAAE,CAC5C,CAAC,CACJ,CAAC,EACH,CAAC,cAENJ,KAAA,QAAKyB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB5B,IAAA,OAAA4B,QAAA,CAAI,eAAa,CAAI,CAAC,cACtB5B,IAAA,QAAK2B,SAAS,CAAC,QAAQ,CAAAC,QAAA,CAAExB,SAAS,CAACG,YAAY,CAAM,CAAC,EACnD,CAAC,cAENL,KAAA,QAAKyB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB5B,IAAA,OAAA4B,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxB5B,IAAA,QAAK2B,SAAS,CAAC,QAAQ,CAAAC,QAAA,CAAExB,SAAS,CAACI,cAAc,CAAM,CAAC,EACrD,CAAC,cAENN,KAAA,QAAKyB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB5B,IAAA,OAAA4B,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxB5B,IAAA,QAAK2B,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAExB,SAAS,CAACK,cAAc,CAAM,CAAC,EACnD,CAAC,EACH,CAAC,cAENP,KAAA,QAAKyB,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B5B,IAAA,OAAA4B,QAAA,CAAI,eAAa,CAAI,CAAC,cACtB1B,KAAA,QAAKyB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B5B,IAAA,CAACH,IAAI,EAACwC,EAAE,CAAC,YAAY,CAACV,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,oCAE7C,CAAM,CAAC,cACP5B,IAAA,WAAQ2B,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,6BAE/B,CAAQ,CAAC,cACT5B,IAAA,WAAQ2B,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,oCAE/B,CAAQ,CAAC,cACT5B,IAAA,WAAQ2B,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,iCAE/B,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAzB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}