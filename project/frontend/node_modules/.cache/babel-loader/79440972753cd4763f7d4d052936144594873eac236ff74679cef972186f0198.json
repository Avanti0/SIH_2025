{"ast":null,"code":"import _objectSpread from\"/home/admin-cse/Desktop/SIH_avanti/SIH_2025/project/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BiosecurityChecklist=()=>{const[checklist,setChecklist]=useState([]);const[complianceScore,setComplianceScore]=useState(0);const[loading,setLoading]=useState(true);useEffect(()=>{fetchChecklist();},[]);const fetchChecklist=async()=>{try{const response=await fetch('/api/biosecurity/checklist');const data=await response.json();setChecklist(data.checklist||[]);setComplianceScore(data.complianceScore||0);}catch(error){console.error('Error fetching checklist:',error);}finally{setLoading(false);}};const handleCheckChange=async id=>{const updatedChecklist=checklist.map(item=>item.id===id?_objectSpread(_objectSpread({},item),{},{checked:!item.checked}):item);setChecklist(updatedChecklist);// Calculate new score\nconst totalItems=updatedChecklist.length;const checkedItems=updatedChecklist.filter(item=>item.checked).length;const newScore=Math.round(checkedItems/totalItems*100);setComplianceScore(newScore);// Update backend\ntry{await fetch('/api/biosecurity/checklist',{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({checklist:updatedChecklist})});}catch(error){console.error('Error updating checklist:',error);}};const criticalIssues=checklist.filter(item=>item.critical&&!item.checked);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading checklist...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"checklist-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"checklist-header\",children:[/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",className:\"back-btn\",children:\"\\u2190 Back to Dashboard\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Biosecurity Checklist\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"score-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"current-score\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Current Score: \",complianceScore,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"score-indicator\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"score-circle \".concat(complianceScore>=80?'good':complianceScore>=60?'warning':'danger'),children:[complianceScore,\"%\"]})})]})}),criticalIssues.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"critical-alerts\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"\\u26A0\\uFE0F Critical Issues (\",criticalIssues.length,\")\"]}),/*#__PURE__*/_jsx(\"ul\",{children:criticalIssues.map(issue=>/*#__PURE__*/_jsx(\"li\",{children:issue.item},issue.id))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"checklist-items\",children:checklist.map(item=>/*#__PURE__*/_jsx(\"div\",{className:\"checklist-item \".concat(item.critical?'critical':''),children:/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:item.checked,onChange:()=>handleCheckChange(item.id)}),/*#__PURE__*/_jsx(\"span\",{className:\"checkmark\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"item-text\",children:[item.item,item.critical&&/*#__PURE__*/_jsx(\"span\",{className:\"critical-badge\",children:\"Critical\"})]})]})},item.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary\",children:\"Save Progress\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",children:\"Generate Report\"})]})]});};export default BiosecurityChecklist;","map":{"version":3,"names":["React","useState","useEffect","Link","jsx","_jsx","jsxs","_jsxs","BiosecurityChecklist","checklist","setChecklist","complianceScore","setComplianceScore","loading","setLoading","fetchChecklist","response","fetch","data","json","error","console","handleCheckChange","id","updatedChecklist","map","item","_objectSpread","checked","totalItems","length","checkedItems","filter","newScore","Math","round","method","headers","body","JSON","stringify","criticalIssues","critical","className","children","to","concat","issue","type","onChange"],"sources":["/home/admin-cse/Desktop/SIH_avanti/SIH_2025/project/frontend/src/pages/BiosecurityChecklist.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nconst BiosecurityChecklist = () => {\n  const [checklist, setChecklist] = useState([]);\n  const [complianceScore, setComplianceScore] = useState(0);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchChecklist();\n  }, []);\n\n  const fetchChecklist = async () => {\n    try {\n      const response = await fetch('/api/biosecurity/checklist');\n      const data = await response.json();\n      setChecklist(data.checklist || []);\n      setComplianceScore(data.complianceScore || 0);\n    } catch (error) {\n      console.error('Error fetching checklist:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCheckChange = async (id) => {\n    const updatedChecklist = checklist.map(item => \n      item.id === id ? { ...item, checked: !item.checked } : item\n    );\n    setChecklist(updatedChecklist);\n\n    // Calculate new score\n    const totalItems = updatedChecklist.length;\n    const checkedItems = updatedChecklist.filter(item => item.checked).length;\n    const newScore = Math.round((checkedItems / totalItems) * 100);\n    setComplianceScore(newScore);\n\n    // Update backend\n    try {\n      await fetch('/api/biosecurity/checklist', {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ checklist: updatedChecklist }),\n      });\n    } catch (error) {\n      console.error('Error updating checklist:', error);\n    }\n  };\n\n  const criticalIssues = checklist.filter(item => item.critical && !item.checked);\n\n  if (loading) {\n    return <div className=\"loading\">Loading checklist...</div>;\n  }\n\n  return (\n    <div className=\"checklist-container\">\n      <header className=\"checklist-header\">\n        <Link to=\"/dashboard\" className=\"back-btn\">← Back to Dashboard</Link>\n        <h2>Biosecurity Checklist</h2>\n      </header>\n\n      <div className=\"score-section\">\n        <div className=\"current-score\">\n          <h3>Current Score: {complianceScore}%</h3>\n          <div className=\"score-indicator\">\n            <div \n              className={`score-circle ${complianceScore >= 80 ? 'good' : complianceScore >= 60 ? 'warning' : 'danger'}`}\n            >\n              {complianceScore}%\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {criticalIssues.length > 0 && (\n        <div className=\"critical-alerts\">\n          <h4>⚠️ Critical Issues ({criticalIssues.length})</h4>\n          <ul>\n            {criticalIssues.map(issue => (\n              <li key={issue.id}>{issue.item}</li>\n            ))}\n          </ul>\n        </div>\n      )}\n\n      <div className=\"checklist-items\">\n        {checklist.map(item => (\n          <div key={item.id} className={`checklist-item ${item.critical ? 'critical' : ''}`}>\n            <label className=\"checkbox-container\">\n              <input\n                type=\"checkbox\"\n                checked={item.checked}\n                onChange={() => handleCheckChange(item.id)}\n              />\n              <span className=\"checkmark\"></span>\n              <span className=\"item-text\">\n                {item.item}\n                {item.critical && <span className=\"critical-badge\">Critical</span>}\n              </span>\n            </label>\n          </div>\n        ))}\n      </div>\n\n      <div className=\"action-buttons\">\n        <button className=\"btn-primary\">Save Progress</button>\n        <button className=\"btn-secondary\">Generate Report</button>\n      </div>\n    </div>\n  );\n};\n\nexport default BiosecurityChecklist;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}